# Cooperative Photo Shooting Guide / 協調的撮影支援システム

撮影者・被写体の両方にガイドを提示し、「こう撮ってほしい」というイメージを共有しながら撮影できる iOS 向けの協調的撮影支援システムです。  
This repository contains an iOS prototype of a cooperative photo shooting support system with shared guides for photographers and subjects.

---

## 1. 概要 / Overview

スマートフォンで友人に写真を撮ってもらうとき、

- 「顔はいいけど、もう少し下から撮ってほしかった」
- 「自分では良いポーズのつもりだったのに、写真を見るとイメージと違う」

といった「仕上がりイメージのズレ」がよく起こります。

本研究では、  
**被写体が思い描く「こう撮ってほしい」イメージをガイドとして抽出し、それを撮影者・被写体双方の画面に重ねて表示する**  
協調的撮影支援手法を提案し、そのプロトタイプを本リポジトリで公開しています。

- 対象: ポートレート撮影（全身ショットなど）
- 形態: iOS 向け SwiftUI アプリ（撮影者・被写体が別端末で参加）
- 通信: LiveKit を用いたリアルタイム映像共有とガイド同期

---

## 2. 背景 / Background

従来の撮影支援は、以下のように主に「撮影者側」か「カメラ側」を対象としたものが多くあります。

- 構図ガイド線やグリッド表示
- 顔検出によるオートフォーカス・露出補正
- 自動連写・自動ベストショット選択

しかし、実際の撮影では、

1. **被写体が頭の中に持っている理想のポーズ・構図**
2. **撮影者が「これでいいだろう」と感じる構図**
3. **カメラが自動で最適化するパラメータ**

がそれぞれ異なるため、  
「誰のイメージを、どこまで尊重して撮るのか」が明確でなく、仕上がりの不満や撮り直しの気まずさにつながります。

本研究では、  
**被写体の理想を起点にガイドを生成し、それを双方に共有することで、撮影者と被写体が同じゴールを見ながら撮影できる状態**  
を作ることを狙います。

---

## 3. 提案システムのコンセプト / Concept

本システムのコンセプトは次の 2 点です。

1. **「こう撮られたい」を形式知化して共有する**  
   - 被写体が選んだお手本写真から、ポーズと構図のガイドを抽出
   - ガイドを被写体側だけでなく撮影者側のカメラ映像上にも重ねて提示

2. **ガイドを「一方的な指示」ではなく「相談のための基準」にする**  
   - 被写体も撮影者も、同じガイドを見ながら微調整できる
   - ガイドをオン・オフしたり、透過度を変えたりしながら、納得いくまですり合わせ可能

これにより、「なんとなく違う」を避けつつ、  
撮影体験を撮影者・被写体双方にとってポジティブなものにすることを目指します。

---

## 4. システム構成 / System Architecture

### 4.1 全体構成

- クライアント:
  - iOS アプリ（Swift / SwiftUI）
  - 撮影者モード・被写体モードを同一アプリ内で切り替え
- 通信:
  - [LiveKit](https://livekit.io/) を用いた WebRTC ベースのリアルタイム映像共有
  - 映像トラック: 撮影者カメラ映像を被写体側にも配信
  - データチャンネル: ガイド画像・フレーム位置情報などの同期
- サーバ:
  - LiveKit サーバ（トークン発行サーバは別途用意）

### 4.2 技術スタック

- 言語: Swift 5.x
- UI: SwiftUI
- 映像処理: AVFoundation + LiveKitSDK
- 対応 OS: iOS 17 以降（想定）


